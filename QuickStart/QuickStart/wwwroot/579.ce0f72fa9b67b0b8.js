"use strict";(self.webpackChunkMatech=self.webpackChunkMatech||[]).push([[579],{5579:(ge,G,h)=>{h.r(G),h.d(G,{UicomponentsModule:()=>Fe});var $=h(8498),R=h(177),i=h(9417),L=h(2448),X=h(4912),B=h(5509),V=h(467),N=h(9217),S=h(5756),d=h(5686),t=h(4438),F=h(958),E=h(5794),Y=h(1413);let D=(()=>{class e{constructor(){this.refreshTab1=new Y.B,this.refreshTab1$=this.refreshTab1.asObservable()}triggerRefreshTab1(){this.refreshTab1.next()}static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var j=h(1321),b=h(2524),A=h(1918),_=h(7421),T=h(2788),l=h(1818),g=h(5484),C=h(9308),y=h(6009);let O=(()=>{class e{constructor(a,s,o,n,u){this.repoService=a,this.toastr=s,this.dataService=o,this.dialogserve=n,this.Ref=u,this.validateControl=c=>this.dataForm?.get(c)?.invalid&&this.dataForm?.get(c)?.touched,this.hasError=(c,m)=>this.dataForm?.get(c)?.hasError(m),this.createData=c=>{this.dataForm.valid&&this.executeDataCreation(c)},this.executeDataCreation=c=>{let m={firstName:c.firstName,lastName:c.lastName,dateOfBirth:c.dateOfBirth,address:c.address,country:c.country};console.log(m),this.repoService.create("api/customers",m).subscribe(f=>{this.dialogserve.openSuccessDialog("The customer has been added successfully.").afterClosed().subscribe(k=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})},f=>{this.toastr.error(f)})}}ngOnInit(){this.dataForm=new i.gE({firstName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),lastName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),dateOfBirth:new i.MJ(new Date),address:new i.MJ("",[i.k0.required,i.k0.maxLength(100)]),country:new i.MJ("",[i.k0.required,i.k0.maxLength(60)])})}closeModal(){this.Ref.close([])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(F.U),t.rXU(E.tw),t.rXU(D),t.rXU(j.o),t.rXU(b.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-customer"]],decls:33,vars:4,consts:[["picker",""],[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","placeholder","Choose a date of birth","formControlName","dateOfBirth","id","dateOfBirth","readonly","",3,"click","matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","address"],["matInput","","formControlName","country"],["mat-flat-button","","color","primary","matTooltip","Info about the action",3,"disabled"]],template:function(s,o){if(1&s){const n=t.RV6();t.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),t.EFF(3,"Create customer"),t.k0s(),t.nrm(4,"span",3),t.j41(5,"button",4),t.bIt("click",function(){return t.eBV(n),t.Njj(o.closeModal())}),t.j41(6,"mat-icon",5),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",6)(9,"form",7),t.bIt("ngSubmit",function(){return t.eBV(n),t.Njj(o.createData(o.dataForm.value))}),t.j41(10,"mat-form-field",8)(11,"mat-label"),t.EFF(12,"First Name"),t.k0s(),t.nrm(13,"input",9),t.k0s(),t.j41(14,"mat-form-field",8)(15,"mat-label"),t.EFF(16,"Last Name"),t.k0s(),t.nrm(17,"input",10),t.k0s(),t.j41(18,"mat-form-field",8)(19,"input",11),t.bIt("click",function(){t.eBV(n);const c=t.sdS(22);return t.Njj(c.open())}),t.k0s(),t.nrm(20,"mat-datepicker-toggle",12)(21,"mat-datepicker",null,0),t.k0s(),t.j41(23,"mat-form-field",8)(24,"mat-label"),t.EFF(25,"Address"),t.k0s(),t.nrm(26,"input",13),t.k0s(),t.j41(27,"mat-form-field",8)(28,"mat-label"),t.EFF(29,"Country"),t.k0s(),t.nrm(30,"input",14),t.k0s(),t.j41(31,"button",15),t.EFF(32," Save "),t.k0s()()()()}if(2&s){const n=t.sdS(22);t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(10),t.Y8G("matDatepicker",n),t.R7$(),t.Y8G("for",n),t.R7$(11),t.Y8G("disabled",!o.dataForm.valid)}},dependencies:[A.Vh,A.bZ,A.bU,_.rl,_.nJ,_.yw,T.fg,l.RN,l.m2,l.MM,l.dh,g.$z,C.An,y.oV,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})(),J=(()=>{class e{constructor(a,s,o,n,u,c){this.repoService=a,this.toastr=s,this.dataService=o,this.dialogserve=n,this.data=u,this.Ref=c,this.validateControl=m=>this.dataForm?.get(m)?.invalid&&this.dataForm?.get(m)?.touched,this.hasError=(m,p)=>this.dataForm?.get(m)?.hasError(p),this.createData=m=>{this.dataForm.valid&&this.executeDataCreation(m)},this.executeDataCreation=m=>{this.repoService.update(`api/customers/${this.result.id}`,{firstName:m.firstName,lastName:m.lastName,dateOfBirth:m.dateOfBirth,address:m.address,country:m.country}).subscribe(v=>{this.dialogserve.openSuccessDialog("The customer has been updated successfully.").afterClosed().subscribe(x=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})},v=>{this.toastr.error(v)})},this.getCustomertoUpdate=()=>{const p=`api/customers/${this.result.id}`;console.log(p),this.repoService.getData(p).subscribe({next:f=>{this.customer={...f},this.dataForm.patchValue(this.customer)},error:f=>{this.toastr.success(f)}})}}ngOnInit(){this.dataForm=new i.gE({firstName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),lastName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),dateOfBirth:new i.MJ(new Date),address:new i.MJ("",[i.k0.required,i.k0.maxLength(100)]),country:new i.MJ("",[i.k0.required,i.k0.maxLength(60)])}),this.result=this.data,this.getCustomertoUpdate()}closeModal(){this.Ref.close([])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(F.U),t.rXU(E.tw),t.rXU(D),t.rXU(j.o),t.rXU(b.Vh),t.rXU(b.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-update-customer"]],decls:33,vars:4,consts:[["picker",""],[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","placeholder","Choose a date of birth","formControlName","dateOfBirth","id","dateOfBirth","readonly","",3,"click","matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","address"],["matInput","","formControlName","country"],["mat-flat-button","","color","primary","matTooltip","Info about the action",3,"disabled"]],template:function(s,o){if(1&s){const n=t.RV6();t.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),t.EFF(3,"Update customer"),t.k0s(),t.nrm(4,"span",3),t.j41(5,"button",4),t.bIt("click",function(){return t.eBV(n),t.Njj(o.closeModal())}),t.j41(6,"mat-icon",5),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",6)(9,"form",7),t.bIt("ngSubmit",function(){return t.eBV(n),t.Njj(o.createData(o.dataForm.value))}),t.j41(10,"mat-form-field",8)(11,"mat-label"),t.EFF(12,"First Name"),t.k0s(),t.nrm(13,"input",9),t.k0s(),t.j41(14,"mat-form-field",8)(15,"mat-label"),t.EFF(16,"Last Name"),t.k0s(),t.nrm(17,"input",10),t.k0s(),t.j41(18,"mat-form-field",8)(19,"input",11),t.bIt("click",function(){t.eBV(n);const c=t.sdS(22);return t.Njj(c.open())}),t.k0s(),t.nrm(20,"mat-datepicker-toggle",12)(21,"mat-datepicker",null,0),t.k0s(),t.j41(23,"mat-form-field",8)(24,"mat-label"),t.EFF(25,"Address"),t.k0s(),t.nrm(26,"input",13),t.k0s(),t.j41(27,"mat-form-field",8)(28,"mat-label"),t.EFF(29,"Country"),t.k0s(),t.nrm(30,"input",14),t.k0s(),t.j41(31,"button",15),t.EFF(32," Update "),t.k0s()()()()}if(2&s){const n=t.sdS(22);t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(10),t.Y8G("matDatepicker",n),t.R7$(),t.Y8G("for",n),t.R7$(11),t.Y8G("disabled",!o.dataForm.valid)}},dependencies:[A.Vh,A.bZ,A.bU,_.rl,_.nJ,_.yw,T.fg,l.RN,l.m2,l.MM,l.dh,g.$z,C.An,y.oV,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})();var U=h(8269),I=h(6038);const H=()=>[4,6,10,20];function z(e,r){1&e&&(t.j41(0,"th",26),t.EFF(1," Action "),t.k0s())}function q(e,r){if(1&e){const a=t.RV6();t.j41(0,"td",27)(1,"button",28),t.EFF(2," Action "),t.j41(3,"mat-icon"),t.EFF(4,"arrow_drop_down"),t.k0s()(),t.j41(5,"mat-menu",29,0)(7,"button",30),t.bIt("click",function(){const o=t.eBV(a).$implicit,n=t.XpG();return t.Njj(n.redirectToDetails(o.id))}),t.EFF(8," Details "),t.k0s(),t.j41(9,"button",30),t.bIt("click",function(){const o=t.eBV(a).$implicit,n=t.XpG();return t.Njj(n.updateCustomer(o.id))}),t.EFF(10," Edit "),t.k0s(),t.j41(11,"button",30),t.bIt("click",function(){const o=t.eBV(a).$implicit,n=t.XpG();return t.Njj(n.DeleteCustomer(o.id))}),t.EFF(12," Delete "),t.k0s()()()}if(2&e){const a=t.sdS(6);t.R7$(),t.Y8G("matMenuTriggerFor",a)}}function P(e,r){1&e&&(t.j41(0,"th",31),t.EFF(1," FirstName "),t.k0s())}function W(e,r){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",a.firstName," ")}}function Z(e,r){1&e&&(t.j41(0,"th",31),t.EFF(1," LastName "),t.k0s())}function Q(e,r){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",a.lastName," ")}}function K(e,r){1&e&&(t.j41(0,"th",31),t.EFF(1," DateOfBirth "),t.k0s())}function tt(e,r){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,a.dateOfBirth,"mediumDate")," ")}}function et(e,r){1&e&&(t.j41(0,"th",31),t.EFF(1," Country "),t.k0s())}function at(e,r){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",a.country," ")}}function ot(e,r){1&e&&(t.j41(0,"th",26),t.EFF(1," Type "),t.k0s())}function st(e,r){1&e&&(t.j41(0,"span",34),t.EFF(1," No Account "),t.k0s())}function it(e,r){1&e&&(t.j41(0,"span",35),t.EFF(1," Beginner "),t.k0s())}function nt(e,r){1&e&&(t.j41(0,"span",36),t.EFF(1," Advanced "),t.k0s())}function rt(e,r){1&e&&(t.j41(0,"span",34),t.EFF(1," Gold "),t.k0s())}function mt(e,r){1&e&&(t.j41(0,"span",37),t.EFF(1," Platinum "),t.k0s())}function lt(e,r){if(1&e&&(t.j41(0,"td",32),t.DNE(1,st,2,0,"ng-template",33)(2,it,2,0,"ng-template",33)(3,nt,2,0,"ng-template",33)(4,rt,2,0,"ng-template",33)(5,mt,2,0,"ng-template",33),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.Y8G("ngIf","0"==a.accountCount),t.R7$(),t.Y8G("ngIf","1"==a.accountCount),t.R7$(),t.Y8G("ngIf","2"==a.accountCount),t.R7$(),t.Y8G("ngIf","3"==a.accountCount),t.R7$(),t.Y8G("ngIf",+a.accountCount>=4)}}function ct(e,r){1&e&&(t.j41(0,"th",26),t.EFF(1," Status "),t.k0s())}function dt(e,r){1&e&&(t.j41(0,"span",35),t.EFF(1," Active "),t.k0s())}function ut(e,r){1&e&&(t.j41(0,"span",34),t.EFF(1," Blocked "),t.k0s())}function pt(e,r){if(1&e&&(t.j41(0,"td",32),t.DNE(1,dt,2,0,"ng-template",33)(2,ut,2,0,"ng-template",33),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.Y8G("ngIf",1==a.status),t.R7$(),t.Y8G("ngIf",0==a.status)}}function ht(e,r){1&e&&(t.j41(0,"th",26),t.EFF(1," Details "),t.k0s())}function ft(e,r){1&e&&(t.j41(0,"td",27)(1,"mat-icon",38),t.EFF(2,"remove_red_eye"),t.k0s()())}function _t(e,r){1&e&&t.nrm(0,"tr",39)}function bt(e,r){1&e&&t.nrm(0,"tr",40)}let Ft=(()=>{class e{constructor(a,s,o,n,u,c){var m=this;this.repoService=a,this.router=s,this.toastr=o,this.dialog=n,this.dataService=u,this.dialogserve=c,this.displayedColumns=["action","firstName","lastName","dateOfBirth","country","type","status"],this.dataSource=new d.I6,this.doFilter=p=>{this.dataSource.filter=p.trim().toLocaleLowerCase()},this.redirectToDetails=function(){var p=(0,V.A)(function*(f){m.router.navigate([`/ui-components/customer-details/${f}`])});return function(f){return p.apply(this,arguments)}}(),this.refreshSubscription=this.dataService.refreshTab1$.subscribe(()=>{this.getCustomers()})}ngOnInit(){this.getCustomers()}getCustomers(){this.repoService.getData("api/customers").subscribe(a=>{this.dataSource.data=a},a=>{console.log(a)})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}addCustomer(){this.dialog.open(O,{width:"500px",height:"545px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms"})}updateCustomer(a){this.dialog.open(J,{width:"500px",height:"545px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms",data:{id:a}})}DeleteCustomer(a){this.dialogserve.openConfirmDialog("Are you sure, you want to delete the customer ?").afterClosed().subscribe(s=>{s&&this.repoService.delete(`api/customers/${a}`).subscribe(n=>{this.dialogserve.openSuccessDialog("The customer has been deleted successfully.").afterClosed().subscribe(u=>{this.getCustomers()})})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(F.U),t.rXU($.Ix),t.rXU(E.tw),t.rXU(b.bZ),t.rXU(D),t.rXU(j.o))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-lists"]],viewQuery:function(s,o){if(1&s&&(t.GBs(N.iy,5),t.GBs(S.B4,5)),2&s){let n;t.mGM(n=t.lsd())&&(o.paginator=n.first),t.mGM(n=t.lsd())&&(o.sort=n.first)}},decls:42,vars:6,consts:[["actions","matMenu"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["fxHide.xs",""],[1,"b-t-1"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","Search....",3,"keyup"],[1,"table-responsive","m-t-16"],["mat-table","","matSort","",1,"w-100",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","firstName"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","lastName"],["matColumnDef","dateOfBirth"],["matColumnDef","country"],["matColumnDef","type"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","Details"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-flat-button","","color","primary",1,"m-t-8",3,"matMenuTriggerFor"],[1,"cardWithShadow"],["mat-menu-item","",3,"click"],["mat-header-cell","","mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell",""],[3,"ngIf"],[1,"bg-light-warning","text-warning","rounded","f-w-600","p-6","p-y-4","f-s-12"],[1,"bg-light-accent","text-accent","rounded","f-w-600","p-6","p-y-4","f-s-12"],[1,"bg-light-primary","text-primary","rounded","f-w-600","p-6","p-y-4","f-s-12"],[1,"bg-light-success","text-success","rounded","f-w-600","p-6","p-y-4","f-s-12"],["color","primary"],["mat-header-row",""],["mat-row",""]],template:function(s,o){1&s&&(t.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),t.EFF(3,"Customers"),t.k0s(),t.nrm(4,"span",3),t.j41(5,"button",4),t.bIt("click",function(){return o.addCustomer()}),t.j41(6,"mat-icon"),t.EFF(7,"add"),t.k0s(),t.j41(8,"span",5),t.EFF(9,"Create new customer"),t.k0s()()(),t.j41(10,"mat-card-content",6)(11,"mat-form-field",7)(12,"input",8),t.bIt("keyup",function(u){return o.doFilter(u.target.value)}),t.k0s()(),t.j41(13,"div",9)(14,"table",10),t.qex(15,11),t.DNE(16,z,2,0,"th",12)(17,q,13,1,"td",13),t.bVm(),t.qex(18,14),t.DNE(19,P,2,0,"th",15)(20,W,2,1,"td",13),t.bVm(),t.qex(21,16),t.DNE(22,Z,2,0,"th",15)(23,Q,2,1,"td",13),t.bVm(),t.qex(24,17),t.DNE(25,K,2,0,"th",15)(26,tt,3,4,"td",13),t.bVm(),t.qex(27,18),t.DNE(28,et,2,0,"th",15)(29,at,2,1,"td",13),t.bVm(),t.qex(30,19),t.DNE(31,ot,2,0,"th",12)(32,lt,6,5,"td",20),t.bVm(),t.qex(33,21),t.DNE(34,ct,2,0,"th",12)(35,pt,3,2,"td",20),t.bVm(),t.qex(36,22),t.DNE(37,ht,2,0,"th",12)(38,ft,3,0,"td",13),t.bVm(),t.DNE(39,_t,1,0,"tr",23)(40,bt,1,0,"tr",24),t.k0s()(),t.nrm(41,"mat-paginator",25),t.k0s()()),2&s&&(t.R7$(14),t.Y8G("dataSource",o.dataSource),t.R7$(25),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("pageSize",4)("pageSizeOptions",t.lJ4(5,H)))},dependencies:[R.bT,_.rl,T.fg,U.kk,U.fb,U.Cp,l.RN,l.m2,l.MM,l.dh,g.$z,C.An,N.iy,S.B4,S.aE,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,I.Om,R.vh],encapsulation:2})}return e})();var M=h(1351);function gt(e,r){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Please provide a valid email"),t.k0s())}function Ct(e,r){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Email is required"),t.k0s())}function kt(e,r){if(1&e){const a=t.RV6();t.j41(0,"div")(1,"mat-checkbox",15),t.bIt("change",function(o){const n=t.eBV(a).$implicit,u=t.XpG();return t.Njj(u.toggleRoleSelection(o,n.name))}),t.EFF(2),t.k0s()()}if(2&e){const a=r.$implicit,s=t.XpG();t.R7$(),t.Y8G("checked",s.isSelected(a.name)),t.R7$(),t.SpI(" ",a.name," ")}}let vt=(()=>{class e{constructor(a,s,o,n,u){this.repoService=a,this.dataService=s,this.toastr=o,this.dialogserve=n,this.Ref=u,this.selectedRoles=[],this.validateControl=c=>this.dataForm?.get(c)?.invalid&&this.dataForm?.get(c)?.touched,this.hasError=(c,m)=>this.dataForm?.get(c)?.hasError(m),this.createData=c=>{this.dataForm.valid&&this.executeDataCreation(c)},this.executeDataCreation=c=>{this.repoService.create("api/authentication",{firstName:c.firstName,lastName:c.lastName,userName:c.userName,email:c.email,roles:this.selectedRoles}).subscribe(f=>{this.dialogserve.openSuccessDialog("The default password for the user is 'Password.321'.").afterClosed().subscribe(k=>{this.dialogserve.openSuccessDialog("The user has been added successfully.").afterClosed().subscribe(v=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})})},f=>{this.toastr.error(f)})}}ngOnInit(){this.dataForm=new i.gE({firstName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),lastName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),userName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),email:new i.MJ("",[i.k0.required,i.k0.email])}),this.getRoles()}getRoles(){this.repoService.getData("api/roles").subscribe(a=>{this.roles=a},a=>{this.toastr.success(a)})}isSelected(a){return this.selectedRoles.includes(a)}toggleRoleSelection(a,s){a.checked?this.selectedRoles.push(s):this.selectedRoles=this.selectedRoles.filter(o=>o!==s)}closeModal(){this.Ref.close([])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(F.U),t.rXU(D),t.rXU(E.tw),t.rXU(j.o),t.rXU(b.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-user"]],decls:33,vars:5,consts:[[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","formControlName","userName"],["matInput","","type","email","formControlName","email"],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","matTooltip","Info about the action",3,"disabled"],[3,"change","checked"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Create user"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.closeModal()}),t.j41(6,"mat-icon",4),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",5)(9,"form",6),t.bIt("ngSubmit",function(){return o.createData(o.dataForm.value)}),t.j41(10,"mat-form-field",7)(11,"mat-label"),t.EFF(12,"First Name"),t.k0s(),t.nrm(13,"input",8),t.k0s(),t.j41(14,"mat-form-field",7)(15,"mat-label"),t.EFF(16,"Last Name"),t.k0s(),t.nrm(17,"input",9),t.k0s(),t.j41(18,"mat-form-field",7)(19,"mat-label"),t.EFF(20,"User Name"),t.k0s(),t.nrm(21,"input",10),t.k0s(),t.j41(22,"mat-form-field",7)(23,"mat-label"),t.EFF(24,"Email"),t.k0s(),t.nrm(25,"input",11),t.DNE(26,gt,2,0,"mat-error",12)(27,Ct,2,0,"mat-error",12),t.k0s(),t.j41(28,"mat-label"),t.EFF(29,"Roles"),t.k0s(),t.DNE(30,kt,3,2,"div",13),t.j41(31,"button",14),t.EFF(32," Save "),t.k0s()()()()),2&s&&(t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(17),t.Y8G("ngIf",o.validateControl("email")&&o.hasError("email","email")),t.R7$(),t.Y8G("ngIf",o.validateControl("email")&&o.hasError("email","required")),t.R7$(3),t.Y8G("ngForOf",o.roles),t.R7$(),t.Y8G("disabled",!o.dataForm.valid))},dependencies:[R.Sq,R.bT,M.So,_.rl,_.nJ,_.TL,T.fg,l.RN,l.m2,l.MM,l.dh,g.$z,C.An,y.oV,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})();function Rt(e,r){if(1&e){const a=t.RV6();t.j41(0,"div")(1,"mat-checkbox",14),t.bIt("change",function(o){const n=t.eBV(a).$implicit,u=t.XpG();return t.Njj(u.toggleRoleSelection(o,n.name))}),t.EFF(2),t.k0s()()}if(2&e){const a=r.$implicit,s=t.XpG();t.R7$(),t.Y8G("checked",s.isSelected(a.name)),t.R7$(),t.SpI(" ",a.name," ")}}let jt=(()=>{class e{constructor(a,s,o,n,u,c){this.repoService=a,this.dataService=s,this.toastr=o,this.dialogserve=n,this.data=u,this.Ref=c,this.selectedRoles=[],this.validateControl=m=>this.dataForm?.get(m)?.invalid&&this.dataForm?.get(m)?.touched,this.hasError=(m,p)=>this.dataForm?.get(m)?.hasError(p),this.createData=m=>{this.dataForm.valid&&this.executeDataCreation(m)},this.executeDataCreation=m=>{this.repoService.update(`api/users/${this.result.id}`,{firstName:m.firstName,lastName:m.lastName,userName:m.userName,email:m.email,roles:this.selectedRoles}).subscribe(v=>{this.dialogserve.openSuccessDialog("The user has been updated successfully.").afterClosed().subscribe(x=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})},v=>{this.toastr.error(v),this.Ref.close([])})},this.getUsertoUpdate=()=>{const p=`api/users/${this.result.id}`;console.log(p),this.repoService.getData(p).subscribe({next:f=>{this.user={...f},this.dataForm.patchValue(this.user),this.selectedRoles=this.user.roles},error:f=>{this.toastr.error(f)}})}}ngOnInit(){this.dataForm=new i.gE({firstName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),lastName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),userName:new i.MJ("",[i.k0.required,i.k0.maxLength(60)]),email:new i.MJ("",[i.k0.required,i.k0.maxLength(100)])}),this.getRoles(),this.result=this.data,this.getUsertoUpdate()}getRoles(){this.repoService.getData("api/roles").subscribe(a=>{this.roles=a},a=>{this.toastr.error(a)})}toggleRoleSelection(a,s){a.checked?this.selectedRoles.push(s):this.selectedRoles=this.selectedRoles.filter(o=>o!==s)}closeModal(){this.Ref.close([])}isSelected(a){return this.selectedRoles.includes(a)}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(F.U),t.rXU(D),t.rXU(E.tw),t.rXU(j.o),t.rXU(b.Vh),t.rXU(b.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-update-user"]],decls:31,vars:3,consts:[[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","formControlName","userName"],["matInput","","formControlName","email"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary","matTooltip","Info about the action",3,"disabled"],[3,"change","checked"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Update user"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.closeModal()}),t.j41(6,"mat-icon",4),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",5)(9,"form",6),t.bIt("ngSubmit",function(){return o.createData(o.dataForm.value)}),t.j41(10,"mat-form-field",7)(11,"mat-label"),t.EFF(12,"First Name"),t.k0s(),t.nrm(13,"input",8),t.k0s(),t.j41(14,"mat-form-field",7)(15,"mat-label"),t.EFF(16,"Last Name"),t.k0s(),t.nrm(17,"input",9),t.k0s(),t.j41(18,"mat-form-field",7)(19,"mat-label"),t.EFF(20,"User Name"),t.k0s(),t.nrm(21,"input",10),t.k0s(),t.j41(22,"mat-form-field",7)(23,"mat-label"),t.EFF(24,"Email"),t.k0s(),t.nrm(25,"input",11),t.k0s(),t.j41(26,"mat-label"),t.EFF(27,"Roles"),t.k0s(),t.DNE(28,Rt,3,2,"div",12),t.j41(29,"button",13),t.EFF(30," Save "),t.k0s()()()()),2&s&&(t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(19),t.Y8G("ngForOf",o.roles),t.R7$(),t.Y8G("disabled",!o.dataForm.valid))},dependencies:[R.Sq,M.So,_.rl,_.nJ,T.fg,l.RN,l.m2,l.MM,l.dh,g.$z,C.An,y.oV,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})();const Et=()=>[4,6,10,20];function Dt(e,r){1&e&&(t.j41(0,"th",25),t.EFF(1," Action "),t.k0s())}function St(e,r){if(1&e){const a=t.RV6();t.j41(0,"td",26)(1,"button",27),t.EFF(2," Action"),t.j41(3,"mat-icon"),t.EFF(4,"arrow_drop_down"),t.k0s()(),t.j41(5,"mat-menu",28,0)(7,"button",29),t.bIt("click",function(){const o=t.eBV(a).$implicit,n=t.XpG();return t.Njj(n.updateUser(o.id))}),t.EFF(8," Edit "),t.k0s(),t.j41(9,"button",29),t.bIt("click",function(){const o=t.eBV(a).$implicit,n=t.XpG();return t.Njj(n.DeleteUser(o.id))}),t.EFF(10," Delete "),t.k0s()()()}if(2&e){const a=t.sdS(6);t.R7$(),t.Y8G("matMenuTriggerFor",a)}}function Tt(e,r){1&e&&(t.j41(0,"th",30),t.EFF(1," User Name "),t.k0s())}function Ut(e,r){if(1&e&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",a.userName," ")}}function wt(e,r){1&e&&(t.j41(0,"th",30),t.EFF(1," First Name "),t.k0s())}function yt(e,r){if(1&e&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",a.firstName," ")}}function Nt(e,r){1&e&&(t.j41(0,"th",30),t.EFF(1," Last Name "),t.k0s())}function At(e,r){if(1&e&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",a.lastName," ")}}function $t(e,r){1&e&&(t.j41(0,"th",25),t.EFF(1," Roles "),t.k0s())}function It(e,r){if(1&e&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",a.roles," ")}}function xt(e,r){1&e&&(t.j41(0,"th",30),t.EFF(1," Email "),t.k0s())}function Gt(e,r){if(1&e&&(t.j41(0,"td",26),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",a.email," ")}}function Mt(e,r){1&e&&(t.j41(0,"th",25),t.EFF(1," Email confirm "),t.k0s())}function Lt(e,r){1&e&&(t.j41(0,"span",33),t.EFF(1," Yes "),t.k0s())}function Xt(e,r){1&e&&(t.j41(0,"span",34),t.EFF(1," No "),t.k0s())}function Bt(e,r){if(1&e&&(t.j41(0,"td",31),t.DNE(1,Lt,2,0,"ng-template",32)(2,Xt,2,0,"ng-template",32),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.Y8G("ngIf","True"==a.emailConfirmed),t.R7$(),t.Y8G("ngIf","False"==a.emailConfirmed)}}function Vt(e,r){1&e&&t.nrm(0,"tr",35)}function Yt(e,r){1&e&&t.nrm(0,"tr",36)}let Ot=(()=>{class e{constructor(a,s,o,n){this.repoService=a,this.dialog=s,this.dialogserve=o,this.dataService=n,this.displayedColumns=["action","username","name","surname","roles","email","emailconfirm"],this.dataSource=new d.I6,this.doFilter=u=>{this.dataSource.filter=u.trim().toLocaleLowerCase()},this.refreshSubscription=this.dataService.refreshTab1$.subscribe(()=>{this.getUsers()})}ngOnInit(){this.getUsers()}getUsers(){this.repoService.getData("api/users").subscribe(a=>{this.dataSource.data=a},a=>{console.log(a)})}addUser(){this.dialog.open(vt,{width:"500px",height:"570px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms"})}updateUser(a){this.dialog.open(jt,{width:"500px",height:"567px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms",data:{id:a}})}DeleteUser(a){this.dialogserve.openConfirmDialog("Are you sure, you want to delete the user ?").afterClosed().subscribe(s=>{s&&this.repoService.delete(`api/users/${a}`).subscribe(n=>{this.dialogserve.openSuccessDialog("The user has been deleted successfully.").afterClosed().subscribe(u=>{this.getUsers()})})})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(F.U),t.rXU(b.bZ),t.rXU(j.o),t.rXU(D))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-users"]],viewQuery:function(s,o){if(1&s&&(t.GBs(N.iy,5),t.GBs(S.B4,5)),2&s){let n;t.mGM(n=t.lsd())&&(o.paginator=n.first),t.mGM(n=t.lsd())&&(o.sort=n.first)}},decls:39,vars:6,consts:[["actions","matMenu"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["fxHide.xs",""],[1,"b-t-1"],[1,"table-responsive","m-t-16"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","Search....",3,"keyup"],["mat-table","","matSort","",1,"w-100",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","username"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","surname"],["matColumnDef","roles"],["matColumnDef","email"],["matColumnDef","emailconfirm"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-flat-button","","color","primary",1,"m-t-8",3,"matMenuTriggerFor"],[1,"cardWithShadow"],["mat-menu-item","",3,"click"],["mat-header-cell","","mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell",""],[3,"ngIf"],[1,"bg-light-accent","text-accent","rounded","f-w-600","p-6","p-y-4","f-s-12"],[1,"bg-light-warning","text-warning","rounded","f-w-600","p-6","p-y-4","f-s-12"],["mat-header-row",""],["mat-row",""]],template:function(s,o){1&s&&(t.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),t.EFF(3,"Users"),t.k0s(),t.nrm(4,"span",3),t.j41(5,"button",4),t.bIt("click",function(){return o.addUser()}),t.j41(6,"mat-icon"),t.EFF(7,"add"),t.k0s(),t.j41(8,"span",5),t.EFF(9,"Create new user"),t.k0s()()(),t.j41(10,"mat-card-content",6)(11,"div",7)(12,"mat-form-field",8)(13,"input",9),t.bIt("keyup",function(u){return o.doFilter(u.target.value)}),t.k0s()(),t.j41(14,"table",10),t.qex(15,11),t.DNE(16,Dt,2,0,"th",12)(17,St,11,1,"td",13),t.bVm(),t.qex(18,14),t.DNE(19,Tt,2,0,"th",15)(20,Ut,2,1,"td",13),t.bVm(),t.qex(21,16),t.DNE(22,wt,2,0,"th",15)(23,yt,2,1,"td",13),t.bVm(),t.qex(24,17),t.DNE(25,Nt,2,0,"th",15)(26,At,2,1,"td",13),t.bVm(),t.qex(27,18),t.DNE(28,$t,2,0,"th",12)(29,It,2,1,"td",13),t.bVm(),t.qex(30,19),t.DNE(31,xt,2,0,"th",15)(32,Gt,2,1,"td",13),t.bVm(),t.qex(33,20),t.DNE(34,Mt,2,0,"th",12)(35,Bt,3,2,"td",21),t.bVm(),t.DNE(36,Vt,1,0,"tr",22)(37,Yt,1,0,"tr",23),t.k0s()(),t.nrm(38,"mat-paginator",24),t.k0s()()),2&s&&(t.R7$(14),t.Y8G("dataSource",o.dataSource),t.R7$(22),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("pageSize",4)("pageSizeOptions",t.lJ4(5,Et)))},dependencies:[R.bT,_.rl,T.fg,U.kk,U.fb,U.Cp,l.RN,l.m2,l.MM,l.dh,g.$z,C.An,N.iy,S.B4,S.aE,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,I.Om],encapsulation:2})}return e})(),Jt=(()=>{class e{constructor(a,s,o,n,u,c){this.repoService=a,this.toastr=s,this.dataService=o,this.dialogserve=n,this.data=u,this.Ref=c,this.validateControl=m=>this.dataForm?.get(m)?.invalid&&this.dataForm?.get(m)?.touched,this.hasError=(m,p)=>this.dataForm?.get(m)?.hasError(p),this.createData=m=>{this.dataForm.valid&&this.executeDataCreation(m)},this.executeDataCreation=m=>{this.repoService.update(`api/roles/${this.result.id}`,{name:m.name}).subscribe(v=>{this.dialogserve.openSuccessDialog("The role has been updated successfully.").afterClosed().subscribe(x=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})},v=>{this.toastr.error(v),this.Ref.close([])})},this.getRoletoUpdate=()=>{const p=`api/roles/${this.result.id}`;console.log(p),this.repoService.getData(p).subscribe({next:f=>{this.role={...f},this.dataForm.patchValue(this.role)},error:f=>{this.toastr.success(f)}})}}ngOnInit(){this.dataForm=new i.gE({name:new i.MJ("",[i.k0.required,i.k0.maxLength(60)])}),this.result=this.data,this.getRoletoUpdate()}closeModal(){this.Ref.close([])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(F.U),t.rXU(E.tw),t.rXU(D),t.rXU(j.o),t.rXU(b.Vh),t.rXU(b.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-update-role"]],decls:16,vars:2,consts:[[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","name"],["mat-flat-button","","color","primary","matTooltip","Info about the action",3,"disabled"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Update role"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.closeModal()}),t.j41(6,"mat-icon",4),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",5)(9,"form",6),t.bIt("ngSubmit",function(){return o.createData(o.dataForm.value)}),t.j41(10,"mat-form-field",7)(11,"mat-label"),t.EFF(12,"Role Name"),t.k0s(),t.nrm(13,"input",8),t.k0s(),t.j41(14,"button",9),t.EFF(15," Save "),t.k0s()()()()),2&s&&(t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(5),t.Y8G("disabled",!o.dataForm.valid))},dependencies:[_.rl,_.nJ,T.fg,l.RN,l.m2,l.MM,l.dh,g.$z,C.An,y.oV,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})(),Ht=(()=>{class e{constructor(a,s,o,n,u){this.repoService=a,this.toastr=s,this.dataService=o,this.dialogserve=n,this.Ref=u,this.validateControl=c=>this.dataForm?.get(c)?.invalid&&this.dataForm?.get(c)?.touched,this.hasError=(c,m)=>this.dataForm?.get(c)?.hasError(m),this.createData=c=>{this.dataForm.valid&&this.executeDataCreation(c)},this.executeDataCreation=c=>{this.repoService.create("api/roles",{name:c.name}).subscribe(f=>{this.dialogserve.openSuccessDialog("The role has been added successfully.").afterClosed().subscribe(k=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})},f=>{this.toastr.error(f),this.Ref.close([])})}}ngOnInit(){this.dataForm=new i.gE({name:new i.MJ("",[i.k0.required,i.k0.maxLength(60)])})}closeModal(){this.Ref.close([])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(F.U),t.rXU(E.tw),t.rXU(D),t.rXU(j.o),t.rXU(b.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-role"]],decls:16,vars:2,consts:[[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","name"],["mat-flat-button","","color","primary","matTooltip","Info about the action",3,"disabled"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Create role"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.closeModal()}),t.j41(6,"mat-icon",4),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",5)(9,"form",6),t.bIt("ngSubmit",function(){return o.createData(o.dataForm.value)}),t.j41(10,"mat-form-field",7)(11,"mat-label"),t.EFF(12,"Role Name"),t.k0s(),t.nrm(13,"input",8),t.k0s(),t.j41(14,"button",9),t.EFF(15," Save "),t.k0s()()()()),2&s&&(t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(5),t.Y8G("disabled",!o.dataForm.valid))},dependencies:[_.rl,_.nJ,T.fg,l.RN,l.m2,l.MM,l.dh,g.$z,C.An,y.oV,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})();function zt(e,r){1&e&&(t.j41(0,"th",15),t.EFF(1," Action "),t.k0s())}function qt(e,r){if(1&e){const a=t.RV6();t.j41(0,"td",16)(1,"button",17),t.EFF(2," Action "),t.j41(3,"mat-icon"),t.EFF(4,"arrow_drop_down"),t.k0s()(),t.j41(5,"mat-menu",18,0)(7,"button",19),t.bIt("click",function(){const o=t.eBV(a).$implicit,n=t.XpG();return t.Njj(n.UpdateRole(o.id))}),t.EFF(8," Edit "),t.k0s(),t.j41(9,"button",19),t.bIt("click",function(){const o=t.eBV(a).$implicit,n=t.XpG();return t.Njj(n.DeleteRole(o.id))}),t.EFF(10," Delete "),t.k0s()()()}if(2&e){const a=t.sdS(6);t.R7$(),t.Y8G("matMenuTriggerFor",a)}}function Pt(e,r){1&e&&(t.j41(0,"th",15),t.EFF(1," Role Name "),t.k0s())}function Wt(e,r){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",a.name," ")}}function Zt(e,r){1&e&&(t.j41(0,"th",15),t.EFF(1," Creation time "),t.k0s())}function Qt(e,r){if(1&e&&(t.j41(0,"td",16),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,a.dateCreated,"medium")," ")}}function Kt(e,r){1&e&&t.nrm(0,"tr",20)}function te(e,r){1&e&&t.nrm(0,"tr",21)}let ee=(()=>{class e{constructor(a,s,o,n,u){this.repoService=a,this.dialog=s,this.toastr=o,this.dataService=n,this.dialogserve=u,this.displayedColumns=["action","role","date"],this.dataSource=new d.I6,this.refreshSubscription=this.dataService.refreshTab1$.subscribe(()=>{this.getRoles()})}ngOnInit(){this.getRoles()}getRoles(){this.repoService.getData("api/roles").subscribe(a=>{this.dataSource.data=a},a=>{console.log(a)})}addRole(){this.dialog.open(Ht,{width:"500px",height:"232px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms"})}UpdateRole(a){this.dialog.open(Jt,{width:"500px",height:"232px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms",data:{id:a}})}DeleteRole(a){this.dialogserve.openConfirmDialog("Are you sure, you want to delete the role ?").afterClosed().subscribe(s=>{s&&this.repoService.delete(`api/roles/${a}`).subscribe(n=>{this.dialogserve.openSuccessDialog("The role has been deleted successfully.").afterClosed().subscribe(u=>{this.getRoles()})})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(F.U),t.rXU(b.bZ),t.rXU(E.tw),t.rXU(D),t.rXU(j.o))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-roles"]],decls:23,vars:3,consts:[["actions","matMenu"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],[1,"b-t-1"],[1,"table-responsive","m-t-16"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","role"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-flat-button","","color","primary",1,"m-t-8",3,"matMenuTriggerFor"],[1,"cardWithShadow"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(s,o){1&s&&(t.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),t.EFF(3,"User roles"),t.k0s(),t.nrm(4,"span",3),t.j41(5,"button",4),t.bIt("click",function(){return o.addRole()}),t.j41(6,"mat-icon"),t.EFF(7,"add"),t.k0s(),t.EFF(8,"Create new role "),t.k0s()(),t.j41(9,"mat-card-content",5)(10,"div",6)(11,"table",7),t.qex(12,8),t.DNE(13,zt,2,0,"th",9)(14,qt,11,1,"td",10),t.bVm(),t.qex(15,11),t.DNE(16,Pt,2,0,"th",9)(17,Wt,2,1,"td",10),t.bVm(),t.qex(18,12),t.DNE(19,Zt,2,0,"th",9)(20,Qt,3,4,"td",10),t.bVm(),t.DNE(21,Kt,1,0,"tr",13)(22,te,1,0,"tr",14),t.k0s()()()()),2&s&&(t.R7$(11),t.Y8G("dataSource",o.dataSource),t.R7$(10),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns))},dependencies:[U.kk,U.fb,U.Cp,l.RN,l.m2,l.MM,l.dh,g.$z,C.An,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,R.vh],encapsulation:2})}return e})();const ae=()=>[4,6,10,20];function oe(e,r){1&e&&(t.j41(0,"th",18),t.EFF(1," Entity Name "),t.k0s())}function se(e,r){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",a.entityName," ")}}function ie(e,r){1&e&&(t.j41(0,"th",20),t.EFF(1," Action "),t.k0s())}function ne(e,r){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",a.action," ")}}function re(e,r){1&e&&(t.j41(0,"th",18),t.EFF(1," Creation time "),t.k0s())}function me(e,r){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,a.timestamp,"medium")," ")}}function le(e,r){1&e&&(t.j41(0,"th",20),t.EFF(1," Changes "),t.k0s())}function ce(e,r){if(1&e&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&e){const a=r.$implicit;t.R7$(),t.SpI(" ",a.changes," ")}}function de(e,r){1&e&&t.nrm(0,"tr",21)}function ue(e,r){1&e&&t.nrm(0,"tr",22)}let pe=(()=>{class e{constructor(a){this.repoService=a,this.displayedColumns=["name","action","date","change"],this.dataSource=new d.I6}ngOnInit(){this.getRoles()}getRoles(){this.repoService.getData("api/audits").subscribe(a=>{this.dataSource.data=a},a=>{console.log(a)})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}refresh(){this.getRoles()}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(F.U))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-audits"]],viewQuery:function(s,o){if(1&s&&(t.GBs(N.iy,5),t.GBs(S.B4,5)),2&s){let n;t.mGM(n=t.lsd())&&(o.paginator=n.first),t.mGM(n=t.lsd())&&(o.sort=n.first)}},decls:28,vars:6,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","accent","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["fxHide.xs",""],[1,"b-t-1"],[1,"table-responsive","m-t-16"],["mat-table","","matSort","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["matColumnDef","date"],["matColumnDef","change"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-header-row",""],["mat-row",""]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Audit logs"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.refresh()}),t.j41(6,"span",4),t.EFF(7,"Refresh"),t.k0s(),t.j41(8,"mat-icon"),t.EFF(9,"refresh"),t.k0s()()(),t.j41(10,"mat-card-content",5)(11,"div",6)(12,"table",7),t.qex(13,8),t.DNE(14,oe,2,0,"th",9)(15,se,2,1,"td",10),t.bVm(),t.qex(16,11),t.DNE(17,ie,2,0,"th",12)(18,ne,2,1,"td",10),t.bVm(),t.qex(19,13),t.DNE(20,re,2,0,"th",9)(21,me,3,4,"td",10),t.bVm(),t.qex(22,14),t.DNE(23,le,2,0,"th",12)(24,ce,2,1,"td",10),t.bVm(),t.DNE(25,de,1,0,"tr",15)(26,ue,1,0,"tr",16),t.k0s()(),t.nrm(27,"mat-paginator",17),t.k0s()()),2&s&&(t.R7$(12),t.Y8G("dataSource",o.dataSource),t.R7$(13),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("pageSize",4)("pageSizeOptions",t.lJ4(5,ae)))},dependencies:[l.RN,l.m2,l.MM,l.dh,g.$z,C.An,N.iy,S.B4,S.aE,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,I.Om,R.vh],encapsulation:2})}return e})(),he=(()=>{class e{constructor(a,s,o,n,u,c){this.repoService=a,this.toastr=s,this.dataService=o,this.dialogserve=n,this.data=u,this.Ref=c,this.validateControl=m=>this.dataForm?.get(m)?.invalid&&this.dataForm?.get(m)?.touched,this.hasError=(m,p)=>this.dataForm?.get(m)?.hasError(p),this.createData=m=>{this.dataForm.valid&&this.executeDataCreation(m)},this.executeDataCreation=m=>{this.repoService.create(`api/customers/${this.result.id}/accounts`,{accountType:m.accountType}).subscribe(v=>{this.dialogserve.openSuccessDialog("The account has been added successfully.").afterClosed().subscribe(x=>{this.dataService.triggerRefreshTab1(),this.Ref.close([])})},v=>{this.toastr.error(v)})}}ngOnInit(){this.dataForm=new i.gE({accountType:new i.MJ("",[i.k0.required,i.k0.maxLength(60)])}),this.result=this.data}closeModal(){this.Ref.close([])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(F.U),t.rXU(E.tw),t.rXU(D),t.rXU(j.o),t.rXU(b.Vh),t.rXU(b.CP))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-account"]],decls:16,vars:2,consts:[[1,"cardWithShadow","theme-card","modal-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],["color","warn"],[1,"b-t-1"],["autocomplete","off","novalidate","",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","accountType"],["mat-flat-button","","color","primary","matTooltip","Info about the action",3,"disabled"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Create Account"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.closeModal()}),t.j41(6,"mat-icon",4),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"mat-card-content",5)(9,"form",6),t.bIt("ngSubmit",function(){return o.createData(o.dataForm.value)}),t.j41(10,"mat-form-field",7)(11,"mat-label"),t.EFF(12,"Account type"),t.k0s(),t.nrm(13,"input",8),t.k0s(),t.j41(14,"button",9),t.EFF(15," Save "),t.k0s()()()()),2&s&&(t.R7$(9),t.Y8G("formGroup",o.dataForm),t.R7$(5),t.Y8G("disabled",!o.dataForm.valid))},dependencies:[_.rl,_.nJ,T.fg,l.RN,l.m2,l.MM,l.dh,g.$z,C.An,y.oV,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],encapsulation:2})}return e})();var w=h(2608);function fe(e,r){if(1&e){const a=t.RV6();t.j41(0,"div",13)(1,"mat-card",7)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4),t.k0s()(),t.j41(5,"mat-card-content",4)(6,"mat-list")(7,"mat-list-item")(8,"span",8),t.EFF(9,"Created"),t.k0s(),t.j41(10,"span",9),t.EFF(11),t.nI1(12,"date"),t.k0s()()(),t.j41(13,"button",14),t.bIt("click",function(){const o=t.eBV(a).$implicit,n=t.XpG();return t.Njj(n.DeleteCustomer(o.id))}),t.EFF(14," Delete "),t.k0s()()()()}if(2&e){const a=r.$implicit;t.R7$(4),t.SpI("Account: ",a.accountType,""),t.R7$(7),t.JRh(t.i5U(12,2,a.dateCreated,"medium"))}}const _e=[{path:"",children:[{path:"lists",component:Ft},{path:"users",component:Ot},{path:"roles",component:ee},{path:"audits",component:pe},{path:"about",component:(()=>{class e{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-about"]],decls:22,vars:0,consts:[[1,"cardWithShadow"],[1,"mat-body-1"],["matListItemTitle","",1,"f-s-16","f-w-600"],["matListItemLine","",1,"mat-body-1"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-content")(2,"mat-card-title"),t.EFF(3,"Welcome to MatechCoding QuickStart"),t.k0s(),t.j41(4,"mat-card-subtitle",1),t.EFF(5," ASP.NET Core / Angular starting point project with SOLID Architecture, Advanced Authentication & Authorization, user and role management, and other useful services for Quick Application Development. "),t.k0s(),t.j41(6,"mat-list")(7,"mat-list-item")(8,"span",2),t.EFF(9,"This application consists of:"),t.k0s(),t.j41(10,"span",3),t.EFF(11,"Onion Architecture"),t.k0s(),t.j41(12,"span",3),t.EFF(13,"Database using Entity Framework Core"),t.k0s(),t.j41(14,"span",3),t.EFF(15,"Advanced Authentication/Authorization"),t.k0s(),t.j41(16,"span",3),t.EFF(17,"Real-time push notification system (with SignalR integration)"),t.k0s(),t.j41(18,"span",3),t.EFF(19,"Swagger integration"),t.k0s(),t.j41(20,"span",3),t.EFF(21,"Angular Material and TypeScript"),t.k0s()()()()())},dependencies:[l.RN,l.m2,l.Lc,l.dh,w.jt,w.YE,w.C_,w.yE],encapsulation:2})}return e})()},{path:"customer-details/:id",component:(()=>{class e{constructor(a,s,o,n,u){this.repoService=a,this.router=s,this.dialog=o,this.dialogserve=n,this.activeRoute=u}ngOnInit(){this.getCustomer(),this.getCustomerAccount()}getCustomer(){this.repoService.getData(`api/customers/${this.activeRoute.snapshot.params.id}`).subscribe(s=>{this.customer=s},s=>{this.dialogserve.openErrorDialog(s).afterClosed().subscribe(o=>{this.router.navigate(["/ui-components/lists"])})})}getCustomerAccount(){this.repoService.getData(`api/customers/${this.activeRoute.snapshot.params.id}/accounts`).subscribe(s=>{this.accounts=s},s=>{})}addAccount(a){this.dialog.open(he,{width:"500px",height:"270px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms",data:{id:a}})}DeleteCustomer(a){this.dialogserve.openConfirmDialog("Are you sure, you want to delete the account ?").afterClosed().subscribe(s=>{s&&this.repoService.delete(`api/customers/${this.activeRoute.snapshot.params.id}/accounts/${a}`).subscribe(u=>{this.getCustomer()})})}close(){this.router.navigate(["/ui-components/lists"])}static#t=this.\u0275fac=function(s){return new(s||e)(t.rXU(F.U),t.rXU($.Ix),t.rXU(b.bZ),t.rXU(j.o),t.rXU($.nX))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-details"]],decls:60,vars:9,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","primary","matTooltipPosition","left","matTooltipHideDelay","100000",1,"m-l-8",3,"click"],[1,"b-t-1"],[1,"row"],[1,"col-lg-6"],[1,"b-1","shadow-none"],["matListItemTitle","",1,"f-s-16","f-w-600"],["matListItemLine","",1,"mat-body-1"],[1,"col-12"],["fxHide.xs",""],["class","col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-sm-6","col-lg-4"],["mat-flat-button","","color","warn",1,"m-t-8",3,"click"]],template:function(s,o){1&s&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.EFF(3,"Customer details"),t.k0s(),t.nrm(4,"span",2),t.j41(5,"button",3),t.bIt("click",function(){return o.close()}),t.j41(6,"mat-icon"),t.EFF(7,"close"),t.k0s(),t.EFF(8," Close "),t.k0s()(),t.j41(9,"mat-card-content",4)(10,"div",5)(11,"div",6)(12,"mat-card",7)(13,"mat-card-header")(14,"mat-card-title"),t.EFF(15,"Basic information"),t.k0s()(),t.j41(16,"mat-card-content",4)(17,"mat-list")(18,"mat-list-item")(19,"span",8),t.EFF(20,"Full Name"),t.k0s(),t.j41(21,"span",9),t.EFF(22),t.k0s()(),t.j41(23,"mat-list-item")(24,"span",8),t.EFF(25,"Date of birth"),t.k0s(),t.j41(26,"span",9),t.EFF(27),t.nI1(28,"date"),t.k0s()()()()()(),t.j41(29,"div",6)(30,"mat-card",7)(31,"mat-card-header")(32,"mat-card-title"),t.EFF(33,"Address"),t.k0s()(),t.j41(34,"mat-card-content",4)(35,"mat-list")(36,"mat-list-item")(37,"span",8),t.EFF(38,"Resident address"),t.k0s(),t.j41(39,"span",9),t.EFF(40),t.k0s()(),t.j41(41,"mat-list-item")(42,"span",8),t.EFF(43,"Country"),t.k0s(),t.j41(44,"span",9),t.EFF(45),t.k0s()()()()()(),t.j41(46,"div",10)(47,"mat-card",7)(48,"mat-card-header")(49,"mat-card-title"),t.EFF(50),t.k0s(),t.nrm(51,"span",2),t.j41(52,"button",3),t.bIt("click",function(){return o.addAccount(o.customer.id)}),t.j41(53,"mat-icon"),t.EFF(54,"add"),t.k0s(),t.j41(55,"span",11),t.EFF(56,"Create new account "),t.k0s()()(),t.j41(57,"mat-card-content",4)(58,"div",5),t.DNE(59,fe,15,5,"div",12),t.k0s()()()()()()()),2&s&&(t.R7$(22),t.Lme("",null==o.customer?null:o.customer.firstName," ",null==o.customer?null:o.customer.lastName,""),t.R7$(5),t.JRh(t.bMT(28,7,null==o.customer?null:o.customer.dateOfBirth)),t.R7$(13),t.JRh(null==o.customer?null:o.customer.address),t.R7$(5),t.JRh(null==o.customer?null:o.customer.country),t.R7$(5),t.SpI("Accounts (",null==o.customer?null:o.customer.accountCount,")"),t.R7$(9),t.Y8G("ngForOf",o.accounts))},dependencies:[R.Sq,l.RN,l.m2,l.MM,l.dh,w.jt,w.YE,w.C_,w.yE,g.$z,C.An,I.Om,R.vh],encapsulation:2})}return e})()}]}];var be=h(5230);let Fe=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.$C({type:e});static#a=this.\u0275inj=t.G2t({imports:[R.MD,$.iI.forChild(_e),L.G,i.YN,i.X1,X.X.pick(B),be.WX,E._B.forRoot({timeOut:3e3,positionClass:"toast-top-right",preventDuplicates:!0,progressBar:!0,closeButton:!0})]})}return e})()}}]);